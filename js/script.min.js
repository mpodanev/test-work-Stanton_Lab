const mapButton=document.getElementById('map-button'),mapPopUp=document.getElementById('popup-map'),closePopUpBtn=document.getElementById('popup-map-close'),input=document.getElementById('location'),mapLabel=document.querySelector('.popup-map__place-wrapper');mapButton.addEventListener('click',function(a){a.preventDefault(),mapPopUp.classList.remove('visually-hidden'),mapLabel.innerHTML=input.value}),closePopUpBtn.addEventListener('click',function(a){a.preventDefault(),mapPopUp.classList.add('visually-hidden')});function initAutocomplete(){var a=new google.maps.Map(document.getElementById('map'),{center:{lat:48.468801,lng:35.040874},zoom:13,mapTypeId:'roadmap',disableDefaultUI:!0}),b=new google.maps.InfoWindow({map:a});navigator.geolocation?navigator.geolocation.getCurrentPosition(function(f){var g={lat:f.coords.latitude,lng:f.coords.longitude};a.setCenter(g)},function(){handleLocationError(!0,b,a.getCenter())}):handleLocationError(!1,b,a.getCenter());var c=new google.maps.places.SearchBox(input);a.addListener('bounds_changed',function(){c.setBounds(a.getBounds())});var d=[];c.addListener('places_changed',function(){function f(i,j){if(j==google.maps.places.PlacesServiceStatus.OK){var k={placeId:i[0].place_id},l=new google.maps.places.PlacesService(a);l.getDetails(k,function(n,o){o==google.maps.places.PlacesServiceStatus.OK&&(input.value=n.formatted_address,mapLabel.innerHTML=n.formatted_address)})}}var g=c.getPlaces();if(0!=g.length){d.forEach(function(i){i.setMap(null)}),d=[];var h=new google.maps.LatLngBounds;g.forEach(function(i){return i.geometry?void(d.push(new google.maps.Marker({map:a,title:i.name,position:i.geometry.location,draggable:!0})),i.geometry.viewport?h.union(i.geometry.viewport):h.extend(i.geometry.location)):void console.log('Returned place contains no geometry')}),a.fitBounds(h),google.maps.event.addListener(d[d.length-1],'dragend',function(i){var j=i.latLng,l=new google.maps.places.PlacesService(a);l.nearbySearch({location:j,radius:'50'},f)})}})}function handleLocationError(a,b,c){b.setPosition(c),b.setContent(a?'Error: The Geolocation service failed.':'Error: Your browser doesn\'t support geolocation.')}const sliderElem=document.getElementById('range-slider'),thumbElem=document.getElementById('range-thumb'),rangeInput=document.getElementById('size'),tooltip=document.getElementById('tooltip'),min=~~rangeInput.min,max=~~rangeInput.max,valueRange=rangeInput.value,rangeWidth=sliderElem.clientWidth,thumbWidth=thumbElem.clientWidth,sizeMinElem=document.querySelector('.form__size-min span'),sizeMaxElem=document.querySelector('.form__size-max span');let tooltipNumber=tooltip.querySelector('span'),percent=0;tooltipNumber.innerHTML=valueRange,thumbElem.style.left=-(thumbWidth/2)+'px',sizeMinElem.innerHTML=min,sizeMaxElem.innerHTML=max,thumbElem.onmousedown=function(a){const b=getCoords(thumbElem),c=a.pageX-b.left,d=getCoords(sliderElem);return document.onmousemove=function(f){let g=f.pageX-c-d.left;0>g&&(g=0,rangeInput.value=min);let h=sliderElem.offsetWidth;g>h&&(g=h,rangeInput.value=max),thumbElem.style.left=g-thumbWidth/2+'px',tooltip.style.left=g+'px',percent=Math.ceil(100*(100*g/(rangeWidth-1)))/100,rangeInput.value=Math.round(min+(max-min)/100*percent),tooltip.style.bottom=Math.round(46+18/100*percent)+'px',tooltip.style.fontSize=Math.round(8+16/100*percent)+'px',tooltipNumber.innerHTML=rangeInput.value,sliderElem.style.backgroundImage='linear-gradient(90deg ,#FFE8A0 0%, #FE7D07 '+percent+'%, #BEC3FE '+percent+'%, #BEC3FE 100%)'},document.onmouseup=function(){document.onmousemove=document.onmouseup=null},!1},thumbElem.ondragstart=function(){return!1};function getCoords(a){let b=a.getBoundingClientRect();return{top:b.top+pageYOffset,left:b.left+pageXOffset}}
